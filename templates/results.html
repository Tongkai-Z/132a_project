<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <style>
            body {
                background-color: rgb(236, 230, 168);
            }
        </style>
        <title>Washington Post Search</title>
    </head>
    <body>
    <h2>Washington Post Search</h2>
    <form action="{{ url_for('results') }}" name="search" method="post">
        <label for="query">Query:</label>
        <input type="text" id="query" name="query" size=50 placeholder="{{query_text}}">
        <input type="submit" value="Search">
        <p>Please select text representation:</p>
        <input type="radio" id="bm_default" name="search_type" value="bm_default" checked>
        <label for="bm_default">BM25 + Default Analyzer</label>
        <input type="radio" id="bm_customized" name="search_type" value="bm_customized">
        <label for="bm_customized">BM25 + Customized Analyzer</label>
        <input type="radio" id="ft_vector" name="search_type" value="ft_vector">
        <label for="ft_vector">Reranked by FastText embeddings</label>
        <input type="radio" id="sbert_vector" name="search_type" value="sbert_vector">
        <label for="sbert_vector">Reranked by SBERT embeddings</label>
    </form>
    <h4>Search Result:</h4>
    <p>Text representation: {{search_type}}</p>
    <p>Total hit: {{ doc_list | length}}</p>
    <!-- show records from start to end in each page -->
    <ol start={{start + 1}}>
        {% for doc in doc_list[start:end] %}
            <li><a href="{{url_for('doc_data', doc_id=doc.meta.id)}}">(Score: {{ '%0.4f' % doc.meta.score}}) {{doc.title}}</a></li>
            <p>{{doc.content|truncate(150)}}</p>
        {% endfor %}
    </ol>
    <br />
    {% if not last %}
        <form action="{{ url_for('next_page', page_id=page_id + 1) }}" name="search" method="post">
            <input type="submit" value="Next">
    {% else %}
        <form action="" name="search" method="post">
            <input type="submit" value="Next" disabled>
    {% endif %}
    </form>
    </body>
    </html>